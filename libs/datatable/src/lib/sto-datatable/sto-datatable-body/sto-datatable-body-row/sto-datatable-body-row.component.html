@if (compressedView()) {
  <ng-template
    [ngTemplateOutlet]="responsiveView()"
    [ngTemplateOutletContext]="{ row: row() }"
  />
} @else {
  @for (column of columns(); track trackColumn($index, column)) {
    <div
      class="sto-mdl-table__body__row__cell datatable-body-cell"
      role="cell"
      [ngClass]="
        column.cellClass | exec: cellValue(row(), column.prop) : column : row()
      "
      [ngStyle]="column | columnStyle: columnMode()"
      (contextmenu)="
        rowContextMenu.emit({
          event: $event,
          column: column,
          row: row()!,
          index: rowIndex(),
        })
      "
    >
      @if (column.cellTemplate) {
        <ng-template
          [ngTemplateOutlet]="column.cellTemplate"
          [ngTemplateOutletContext]="{
            row: row(),
            column: column,
            value: cellValue(row(), column.prop),
            index: rowIndex(),
          }"
        />
      } @else {
        <span [title]="cellValue(row(), column.prop) || ''">
          {{ cellValue(row(), column.prop) }}
        </span>
      }
    </div>
  }
}
