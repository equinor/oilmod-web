@let hasHeader = headerChild();
@let hasFooter = footer();

<div
  [ngClass]="position() + ' ' + (cssClass() || '')"
  [style.width]="width()"
  [style.top.px]="padding()"
  [style.zIndex]="position() === 'left' ? 60 : 58"
  [style.right]="offset()"
  [@drawerAnimations]="slideInOut()"
  class="sto-drawer"
>
  @if (hasHeader) {
    <div class="sto-drawer__header__wrapper" #header>
      <ng-content select="sto-drawer-header" />
    </div>
  }

  <div
    [class.navigation]="!hasHeader"
    [style.height]="height"
    class="sto-drawer__content"
  >
    <ng-content />
  </div>

  @if (hasFooter) {
    <div class="sto-drawer__footer">
      <ng-content select="sto-drawer-footer" />
    </div>
  }
</div>

@if (open() && animation() && backdrop()) {
  <div @overlay class="sto-drawer__overlay" (click)="closeDrawer()"></div>
}
