<span [ngStyle]="style"
	  class="sto-daterange-wrapper">
	<mat-form-field [class]="inputStyleClass">
		<input #inputfield matInput type="text" [required]="required" [value]="inputFieldValue"
			   (keydown)="$event.preventDefault()"
			   (focus)="onInputFocus(inputfield, $event)" (click)="closeOverlay=false" (blur)="onInputBlur($event)"
			   [placeholder]="placeholder||''">
		<mat-icon *ngIf="showIcon"
				  matSuffix
				  style="cursor: default;">date_range</mat-icon>
	</mat-form-field>

	<div class="sto-daterange" #datepicker
		 [ngStyle]="{'display': overlayVisible ? 'flex' : 'none'}"
		 [formGroup]="form"
		 [@overlayState]="overlayVisible ? 'visible' : 'hidden'">
					<div class="calendar-box">
							<sto-inline-calendar formControlName="start"></sto-inline-calendar>
					</div>
					<div class="calendar-box">
							<sto-inline-calendar formControlName="end"></sto-inline-calendar>
					</div>
			<div class="actions">
				<div class="action-container">
					<div class="sto-daterange__button--container">
						<mat-form-field>
							<mat-select [value]="selected" placeholder="Date Range">
								<mat-select-trigger>
									{{ selectValue }}
								</mat-select-trigger>
								<mat-option [value]="0" (click)="tenWeeks()">-2 weeks â€“ +8 weeks</mat-option>
								<mat-option [value]="1" (click)="periodPicker('month', '-')">Previous month</mat-option>
								<mat-option [value]="2" (click)="periodPicker('month', null)">This month</mat-option>
								<mat-option [value]="3" (click)="periodPicker('month', '+')">Next month</mat-option>
								<mat-option [value]="4">Custom</mat-option>
							</mat-select>
						</mat-form-field>
					</div>
<!--					<div class="sto-daterange__button&#45;&#45;container">
						<button type="button" (click)="tenWeeks()"
							mat-raised-button>Previous 2w - Next 8w</button>
					</div>
					<div class="sto-daterange__button&#45;&#45;container">
						<em>Week:</em> <br>
						<div class="btn-group" role="group" aria-label="Select period (week)">
							<button type="button" (click)="periodPicker('week', '-')" mat-raised-button>Prev</button>
							<button type="button" (click)="periodPicker('week', '')" mat-raised-button>This</button>
							<button type="button" (click)="periodPicker('week', '+')" mat-raised-button>Next</button>
						</div>
					</div>
					<div class="sto-daterange__button&#45;&#45;container">
						<em>Month:</em> <br>
						<div class="btn-group" role="group" aria-label="Select period (month)">
							<button type="button" (click)="periodPicker('month', '-')" mat-raised-button>Prev</button>
							<button type="button" (click)="periodPicker('month', '')" mat-raised-button>This</button>
							<button type="button" (click)="periodPicker('month', '+')" mat-raised-button>Next</button>
						</div>
					</div>-->
					<div class="spacer">
					</div>
					<div class="sto-daterange__error--container" *ngIf="error | async as message">
						<span>{{ message }}</span>
					</div>
					<div class="sto-daterange__button--container sto-daterange__button--container--actions">
						<button type="button" [disabled]="form.invalid || (error | async)" mat-raised-button
								color="primary" (click)="onSubmit()">Submit</button>
						<button type="button" mat-raised-button color="warn" (click)="onCancel()">Cancel</button>
					</div>
				</div>
			</div>
	</div>
</span>
